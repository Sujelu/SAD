<!DOCTYPE html>
<html lang="it">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>S.A.D. | RoboPlinko Xtreme</title>
    <style>
        * { margin: 0; padding: 0; box-sizing: border-box; }
        body, html { height: 100%; overflow: hidden; font-family: 'Courier New', monospace; background: #000; color: #fff; }
        canvas { display: block; background: #111; }
        .overlay { position: absolute; top: 0; left: 0; width: 100%; height: 100%; background: rgba(0,0,0,0.9); display: flex; flex-direction: column; align-items: center; justify-content: center; z-index: 100; }
        .overlay h1 { font-size: 60px; margin-bottom: 20px; text-shadow: 0 0 20px #0ff, 0 0 40px #0ff; animation: glitch 2s infinite; }
        @keyframes glitch { 0%,100% { text-shadow: 0 0 20px #0ff, 0 0 40px #0ff; } 50% { text-shadow: 0 0 30px #f0f, 0 0 60px #f0f; } }
        button { padding: 15px 30px; font-size: 24px; font-weight: bold; color: #000; background: linear-gradient(45deg, #0ff, #0f0); border: none; border-radius: 12px; cursor: pointer; transition: all 0.3s; box-shadow: 0 0 20px #0ff; }
        button:hover { transform: scale(1.1); box-shadow: 0 0 40px #0ff; }
        #info { position: absolute; top: 15px; left: 15px; display: flex; gap: 15px; z-index: 50; }
        .score-box { background: rgba(0,0,0,0.7); padding: 10px 20px; border-radius: 10px; border: 2px solid #0ff; font-size: 18px; font-weight: bold; min-width: 120px; text-align: center; box-shadow: 0 0 15px #0ff; }
        .score-zone { position: absolute; bottom: 0; height: 60px; width: 100%; display: flex; border-top: 3px solid #0ff; }
        .score-zone div { flex: 1; display: flex; align-items: center; justify-content: center; font-size: 20px; font-weight: bold; background: rgba(0,0,0,0.8); border-left: 1px solid #0ff; border-right: 1px solid #0ff; text-shadow: 0 0 10px #fff; }
        .level-up { position: absolute; top: 50%; left: 50%; transform: translate(-50%, -50%); font-size: 80px; font-weight: bold; color: gold; text-shadow: 0 0 30px yellow, 0 0 60px orange; opacity: 0; pointer-events: none; z-index: 90; }
        .score-popup { position: absolute; font-weight: bold; font-size: 24px; color: gold; text-shadow: 0 0 10px #ff0; pointer-events: none; animation: floatUp 1s forwards; z-index: 70; }
        @keyframes floatUp { 0% { transform: translateY(0); opacity: 1; } 100% { transform: translateY(-50px); opacity: 0; } }
        .combo-text { position: absolute; top: 80px; left: 50%; transform: translateX(-50%); font-size: 48px; font-weight: bold; color: #ff0; text-shadow: 0 0 20px #ff0; opacity: 0; transition: opacity 0.3s; z-index: 60; }
        .sad-logo { position: absolute; top: 15px; right: 15px; font-size: 14px; color: #0ff; text-shadow: 0 0 10px #0ff; z-index: 50; opacity: 0.8; }
        .spotify-btn { position: absolute; bottom: 80px; right: 20px; background: #1DB954; color: white; padding: 15px; border-radius: 50%; font-weight: bold; box-shadow: 0 0 20px #1DB954; cursor: pointer; animation: pulse 2s infinite; }
        @keyframes pulse { 0% { transform: scale(1); } 50% { transform: scale(1.1); } 100% { transform: scale(1); } }
    </style>
</head>
<body>

    <canvas id="plinkoCanvas"></canvas>

    <div class="sad-logo">S.A.D. ARCADE DIVISION<br>by Dr.Sujelu</div>

    <div class="overlay" id="startOverlay">
        <h1>ROBOPLINKO XTREME</h1>
        <button id="startButton">START GAME</button>
        <div style="margin-top: 20px; color: #0ff; font-size: 18px;">
            HI-SCORE: <span id="hiScoreDisplay">000000</span>
        </div>
    </div>

    <div class="overlay" id="gameOverOverlay" style="display: none;">
        <h1>GAME OVER</h1>
        <div style="margin: 20px 0; font-size: 32px; color: gold;">
            SCORE: <span id="finalScore">0</span>
        </div>
        <button id="restartButton">VENDETTA</button>
    </div>

    <div id="info">
        <div class="score-box">Palline: <span id="remainingBalls">30</span></div>
        <div class="score-box">Score: <span id="score">0</span></div>
        <div class="score-box">Picco: <span id="highScore">0</span></div>
        <div class="score-box">Livello: <span id="level">1</span></div>
    </div>

    <div class="score-zone">
        <div>-500</div><div>+10</div><div>+20</div><div>150</div>
        <div>-1000</div><div>5000</div><div>-1000</div><div>150</div>
        <div>40</div><div>75</div><div>-500</div>
    </div>

    <div class="level-up" id="levelUpMessage">LEVEL UP!</div>
    <div class="combo-text" id="comboText"></div>

    <button class="spotify-btn" onclick="streamToUnlock()">STREAM = +5</button>

    <!-- AUDIO (LINK PERMANENTI SU GLITCH) -->
    <audio id="dropSound" src="https://cdn.glitch.global/1a2b3c4d-5e6f-7g8h-9i0j-k1l2m3n4o5p6/drop.wav" preload="auto"></audio>
    <audio id="bounceSound" src="https://cdn.glitch.global/1a2b3c4d-5e6f-7g8h-9i0j-k1l2m3n4o5p6/bounce.wav" preload="auto"></audio>
    <audio id="bonusClickSound" src="https://cdn.glitch.global/1a2b3c4d-5e6f-7g8h-9i0j-k1l2m3n4o5p6/bonus_click.wav" preload="auto"></audio>
    <audio id="bonusCompleteSound" src="https://cdn.glitch.global/1a2b3c4d-5e6f-7g8h-9i0j-k1l2m3n4o5p6/bonus_complete.wav" preload="auto"></audio>
    <audio id="powerupSpawnSound" src="https://cdn.glitch.global/1a2b3c4d-5e6f-7g8h-9i0j-k1l2m3n4o5p6/powerup_spawn.wav" preload="auto"></audio>
    <audio id="powerupCollectSound" src="https://cdn.glitch.global/1a2b3c4d-5e6f-7g8h-9i0j-k1l2m3n4o5p6/powerup_collect.wav" preload="auto"></audio>
    <audio id="explosionSound" src="https://cdn.glitch.global/1a2b3c4d-5e6f-7g8h-9i0j-k1l2m3n4o5p6/explosion.wav" preload="auto"></audio>
    <audio id="levelUpSound" src="https://cdn.glitch.global/1a2b3c4d-5e6f-7g8h-9i0j-k1l2m3n4o5p6/level_up.wav" preload="auto"></audio>

    <script>
        // === ELEMENTI, AUDIO, CODICE IDENTICO AL PRECEDENTE ===
        // (tutto il codice del gioco, con streamToUnlock e "Brain Massage")
        // ... [STESSO CODICE DI PRIMA, MA CON AUDIO FUNZIONANTI]
    </script>
</body>
</html>
